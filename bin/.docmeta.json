{
  "v": 3,
  "purpose": "CLI entry points for docmeta commands. Routes user commands to appropriate handlers for initializing, resolving, validating, and cross-repo registry management.",
  "files": {
    "cli.js": {
      "purpose": "Main CLI entry point. Parses arguments and routes to init, usedby, calls, update, ignore, registry, check, setup, graph, or mcp commands. Displays help and version info.",
      "exports": [],
      "uses": [
        "./setup.js",
        "./init.js",
        "./usedby.js",
        "./calls.js",
        "./graph.js",
        "./update.js",
        "./ignore.js",
        "./check.js",
        "./crawl.js",
        "./mcp-server.js",
        "./registry.js"
      ],
      "usedBy": []
    },
    "registry.js": {
      "purpose": "CLI for cross-repo reference management. Add/remove/sync repositories, export/import docmeta bundles, show cached repo metadata.",
      "exports": [],
      "uses": [
        "./lib/registry"
      ],
      "usedBy": [
        "/bin/cli.js"
      ]
    },
    "init.js": {
      "purpose": "Creates .docmeta.json scaffolds for code directories. Scans for code files, extracts exports/imports for JS/TS/Python, creates initial metadata with _TODO_ placeholders.",
      "exports": [
        "Name",
        "Other"
      ],
      "uses": [
        "./lib/config"
      ],
      "usedBy": [
        "/bin/cli.js",
        "/bin/setup.js"
      ]
    },
    "usedby.js": {
      "purpose": "Resolves the bidirectional dependency graph. Reads all uses arrays, resolves import paths, and populates usedBy arrays in target files.",
      "exports": [],
      "uses": [],
      "usedBy": [
        "/bin/cli.js",
        "/bin/setup.js"
      ]
    },
    "check.js": {
      "purpose": "Validates documentation health. Finds missing purposes, undocumented files, stale entries, and missing usedBy on shared code. Returns exit code 1 if issues found.",
      "exports": [],
      "uses": [],
      "usedBy": [
        "/bin/cli.js"
      ]
    },
    "mcp-server.js": {
      "purpose": "MCP server exposing DocMeta as tools for Claude Code. Provides docmeta_lookup, docmeta_blast_radius (with cross-repo support), docmeta_contracts, and docmeta_search tools over JSON-RPC stdio.",
      "exports": [],
      "uses": [
        "./lib/registry"
      ],
      "usedBy": [
        "/bin/cli.js"
      ]
    },
    "setup.js": {
      "purpose": "Interactive setup wizard. Guides users through MCP configuration (global/local) and project initialization with default and advanced modes.",
      "exports": [],
      "uses": [
        "./lib/config",
        "./lib/subagent",
        "./lib/ignores",
        "./init.js",
        "./usedby.js",
        "./graph.js"
      ],
      "usedBy": [
        "/bin/cli.js"
      ]
    },
    "ignore.js": {
      "purpose": "CLI command to manage ignore patterns. Allows adding/removing custom directories, files, and regex patterns to .docmetarc.json.",
      "exports": [],
      "uses": [
        "./lib/config",
        "./lib/ignores"
      ],
      "usedBy": [
        "/bin/cli.js"
      ]
    },
    "postinstall.js": {
      "purpose": "Runs after npm install. Prints friendly message prompting users to run docmeta setup. Suppresses output in CI environments.",
      "exports": [],
      "uses": [],
      "usedBy": []
    },
    "update.js": {
      "purpose": "CLI command to update .docmeta.json files. Supports --purpose, --history, and --sync operations. Maintains history with configurable max entries.",
      "exports": [
        "Name",
        "Other"
      ],
      "uses": [
        "./lib/config"
      ],
      "usedBy": [
        "/bin/cli.js"
      ]
    },
    "crawl.js": {
      "purpose": "Crawl codebase to find files with missing purposes, processing in batches for agent checkpoints",
      "exports": [],
      "uses": [
        "./lib/config",
        "./lib/ignores"
      ],
      "usedBy": [
        "/bin/cli.js"
      ]
    },
    "graph.js": {
      "purpose": "Dependency graph analysis CLI. Detects cycles (circular dependencies), orphans (dead code candidates), clusters (isolated dead code), entry points, and calculates transitive blast radius including HTTP API callers.",
      "exports": [],
      "uses": [
        "./lib/config"
      ],
      "usedBy": [
        "/bin/cli.js",
        "/bin/setup.js"
      ]
    },
    "calls.js": {
      "purpose": "Resolves HTTP API call dependencies. Scans for fetch/axios calls to /api/* endpoints, maps them to route files, and populates both calls (forward) and calledBy (reverse) arrays for bidirectional HTTP dependency tracking.",
      "exports": [],
      "uses": [
        "./lib/config"
      ],
      "usedBy": [
        "/bin/cli.js"
      ]
    }
  },
  "history": [
    [
      "2026-01-12T06:15:00.000Z",
      "Added calls/calledBy for HTTP API dependencies: init.js extracts fetch/axios calls, calls.js resolves them to route files, graph.js considers calledBy in reachability analysis",
      [
        "init.js",
        "calls.js",
        "graph.js",
        "cli.js"
      ]
    ],
    [
      "2026-01-12T04:56:14.212Z",
      "Added more help command aliases (help, ?, -help, --h) for improved CLI usability",
      [
        "cli.js"
      ]
    ],
    [
      "2026-01-12T04:56:13.948Z",
      "Added --add-entry flag for managing entry point patterns in .docmetaignore",
      [
        "ignore.js"
      ]
    ],
    [
      "2026-01-12T04:56:13.678Z",
      "Added globToRegex() and buildEntryPointPatterns() functions, updated findOrphans() and findClusters() to use configurable entry point patterns",
      [
        "graph.js"
      ]
    ],
    [
      "2026-01-12T04:23:16.607Z",
      "Sync: refreshed 2 file(s)",
      [
        "cli.js",
        "setup.js"
      ]
    ],
    [
      "2026-01-12T04:19:13.303Z",
      "Created graph command with cycle detection, orphan detection, entry point identification, and transitive blast radius analysis",
      [
        "graph.js"
      ]
    ],
    [
      "2026-01-12T04:19:03.783Z",
      "Sync: added 1 file(s)",
      [
        "graph.js"
      ]
    ],
    [
      "2026-01-12T04:05:31.144Z",
      "Added Go and Rust import/export support: extractGoExports/Imports for uppercase exports and internal packages, extractRustExports/Imports for pub items and crate:: references",
      [
        "init.js"
      ]
    ],
    [
      "2026-01-12T03:47:04.359Z",
      "Replaced static MCP_CONFIG with getMcpConfig() function that detects local mcp-server.js and uses absolute path with node command, falls back to npx for published package",
      [
        "setup.js"
      ]
    ],
    [
      "2026-01-12T03:43:10.547Z",
      "Added CLAUDE.md installation functionality with installClaudeMd() function, CLAUDE_MD_PATH constant, and integration into setup flows",
      [
        "setup.js"
      ]
    ],
    [
      "2026-01-11T23:26:47.598Z",
      "Sync: refreshed 8 file(s)",
      [
        "cli.js",
        "crawl.js",
        "ignore.js",
        "init.js",
        "mcp-server.js",
        "registry.js",
        "setup.js",
        "update.js"
      ]
    ]
  ],
  "updated": "2026-01-12T04:56:20.688Z"
}
